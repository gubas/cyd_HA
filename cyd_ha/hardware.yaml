# Hardware Configuration: Display, Touch, SPI, Outputs, Lights
# This file contains all hardware-specific configurations

# Setup SPI buses for display and touch
# The ESP32-2432S028R uses separate SPI buses
spi:
  - id: tft
    clk_pin: GPIO14
    mosi_pin: GPIO13
    miso_pin: GPIO12
  - id: touch
    clk_pin: GPIO25
    mosi_pin: GPIO32
    miso_pin: GPIO39

# XPT2046 Touch Controller Configuration
touchscreen:
  id: cyd_touch
  platform: xpt2046
  display: esp_display
  spi_id: touch
  cs_pin: GPIO33
  interrupt_pin: GPIO36
  update_interval: 50ms
  threshold: 800
  calibration:
    x_min: 320
    x_max: 3820
    y_min: 330
    y_max: 3750
  transform:
    mirror_x: true
    mirror_y: false

# PWM Outputs for Backlight and RGB LED
output:
  - platform: ledc
    pin: GPIO21
    id: backlight_pwm
  - platform: ledc
    id: output_red
    pin: GPIO4
    inverted: true
  - platform: ledc
    id: output_green
    pin: GPIO16
    inverted: true
  - platform: ledc
    id: output_blue
    pin: GPIO17
    inverted: true

# Light Components
light:
  - platform: monochromatic
    output: backlight_pwm
    name: Display Backlight
    id: backlight
    restore_mode: ALWAYS_ON
  - platform: rgb
    name: LED
    red: output_red
    id: led
    green: output_green
    blue: output_blue
    restore_mode: ALWAYS_OFF
